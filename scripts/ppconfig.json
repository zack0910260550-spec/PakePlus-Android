{"name":"xiaoya","url":"https://777tv.ai/","showName":"xiaoya","appid":"com.xiaoya.app","icon":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"0.0.2","preview":"Android","platform":["1-1"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"/***** 保留原本功能：在 App 內開啟 _blank 連結與 window.open *****/\nconsole.log('%cbuild from PakePlus： https://github.com/Sjj1024/PakePlus','color:orangered;font-weight:bolder');\n\nconst hookClick = (e) => {\n  const origin = e.target.closest('a[href]');\n  const isBaseTargetBlank = document.querySelector('head base[target=\"_blank\"]');\n  if ((origin && origin.href && origin.target === '_blank') ||\n      (origin && origin.href && isBaseTargetBlank)) {\n    e.preventDefault();\n    location.href = origin.href;\n  }\n};\nwindow.open = function (url, target, features) { location.href = url; };\ndocument.addEventListener('click', hookClick, { capture: true });\n\n/***** TV 強化：樣式、焦點導航、影片控制、返回鍵 *****/\n\n// 1) TV 觀感：放大字體、焦點可見、隱藏卷軸\n(() => {\n  const style = document.createElement('style');\n  style.textContent = `\n    html, body { font-size: 20px; }\n    a, button, input, select, textarea, video { outline: none; }\n    *:focus { box-shadow: 0 0 0 3px #3ba1ff99 !important; }\n    ::-webkit-scrollbar { width: 0; height: 0; }\n  `;\n  document.head.appendChild(style);\n})();\n\n// 2) 可聚焦元素與循環焦點\nfunction getFocusable(){\n  const sel = 'a,button,[role=\"button\"],input,select,textarea,[tabindex]:not([tabindex=\"-1\"]),video';\n  return Array.from(document.querySelectorAll(sel)).filter(el=>{\n    const s = getComputedStyle(el);\n    return s.visibility!=='hidden' && s.display!=='none' && !el.disabled;\n  });\n}\nfunction focusCycle(next=true){\n  const list = getFocusable();\n  if (!list.length) return;\n  const idx = Math.max(0, list.indexOf(document.activeElement));\n  const n = (idx + (next?1:-1) + list.length) % list.length;\n  list[n].focus();\n}\nfunction pageScroll(dy){ window.scrollBy({ top: dy, behavior: 'smooth' }); }\n\n// 3) 影片輔助：自動播放 & 嘗試全螢幕\nfunction videoEl(){ return document.querySelector('video'); }\nfunction ensureVideoPlayFull(){\n  const v = videoEl(); if(!v) return;\n  const go = () => {\n    v.play().catch(()=>{});\n    if (v.requestFullscreen) v.requestFullscreen().catch(()=>{});\n  };\n  (v.readyState>=2) ? go() : v.addEventListener('canplay', go, { once:true });\n}\ndocument.addEventListener('DOMContentLoaded', ensureVideoPlayFull);\n\n// 4) 遙控器鍵位映射\ndocument.addEventListener('keydown', (e)=>{\n  const v = videoEl();\n  const tag = (document.activeElement && document.activeElement.tagName) || '';\n  const typing = /INPUT|TEXTAREA|SELECT/.test(tag);\n\n  switch(e.key){\n    case 'ArrowRight':\n      e.preventDefault();\n      if (v && document.fullscreenElement) { v.currentTime = Math.min((v.currentTime||0)+10, (v.duration||1)); }\n      else if (getFocusable().length) { focusCycle(true); }\n      else { pageScroll(0.6*window.innerHeight); }\n      break;\n\n    case 'ArrowLeft':\n      e.preventDefault();\n      if (v && document.fullscreenElement) { v.currentTime = Math.max(0, (v.currentTime||0)-10); }\n      else if (getFocusable().length) { focusCycle(false); }\n      else { pageScroll(-0.6*window.innerHeight); }\n      break;\n\n    case 'ArrowDown':\n      e.preventDefault();\n      if (v && document.fullscreenElement) { v.volume = Math.max(0, Math.min(1, (v.volume||0.8)-0.05)); }\n      else { pageScroll(0.6*window.innerHeight); }\n      break;\n\n    case 'ArrowUp':\n      e.preventDefault();\n      if (v && document.fullscreenElement) { v.volume = Math.max(0, Math.min(1, (v.volume||0.8)+0.05)); }\n      else { pageScroll(-0.6*window.innerHeight); }\n      break;\n\n    case 'Enter': // OK鍵\n      if (!typing) {\n        if (document.activeElement && document.activeElement.tagName === 'VIDEO') {\n          e.preventDefault();\n          v && (v.paused ? v.play().catch(()=>{}) : v.pause());\n        } else if (document.activeElement) {\n          e.preventDefault();\n          document.activeElement.click();\n        }\n      }\n      break;\n\n    case ' ': // 空白鍵：播放/暫停\n      if (v) { e.preventDefault(); v.paused ? v.play().catch(()=>{}) : v.pause(); }\n      break;\n\n    case 'Escape':\n    case 'Backspace': // 返回鍵：先退全螢幕，再上一頁\n      e.preventDefault();\n      if (document.fullscreenElement) { document.exitFullscreen().catch(()=>{}); }\n      else if (history.length > 1) { history.back(); }\n      break;\n\n    default:\n      // 數字鍵 0~9：跳轉到 0~90% 進度\n      if (/^[0-9]$/.test(e.key) && v && v.duration) {\n        e.preventDefault();\n        v.currentTime = v.duration * (parseInt(e.key,10)/10);\n      }\n  }\n}, true);\n\n// 5) 若網站把連結強迫外開，強制改成內開\ndocument.addEventListener('DOMContentLoaded', ()=>{\n  document.querySelectorAll('a[target=\"_blank\"]').forEach(a=>a.setAttribute('target','_self'));\n});\n\n","isHtml":false,"htmlPath":"","htmlFiles":[],"more":{"windows":{"label":"","title":"","url":"https://777tv.ai/","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":1920,"height":1080,"theme":null,"resizable":false,"fullscreen":true,"maximized":false,"minWidth":1920,"minHeight":1080,"maxWidth":1920,"maxHeight":1080,"decorations":false,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"additionalBrowserArgs":"--enable-features=OverlayScrollbar,MediaSessionService --disable-features=Translate,AutofillServerCommunication --autoplay-policy=no-user-gesture-required"}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"xiaoya","showName":"xiaoya","version":"0.0.2","webUrl":"https://777tv.ai/","id":"com.xiaoya.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"android":{"name":"xiaoya","showName":"xiaoya","version":"0.0.2","webUrl":"https://777tv.ai/","id":"com.xiaoya.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"desktop":{"name":"xiaoya","showName":"xiaoya","version":"0.0.2","id":"com.xiaoya.app.desktop","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","webUrl":"https://777tv.ai/","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}